[gd_scene load_steps=8 format=3 uid="uid://cfde4dumfslig"]

[ext_resource type="Script" path="res://player/player_controller.gd" id="1_r47ex"]
[ext_resource type="PackedScene" uid="uid://cgncprbjcjodd" path="res://GunResources/Models/smg.gltf" id="2_ii8si"]
[ext_resource type="Script" path="res://GunResources/Models/smg.gd" id="3_1xe3s"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j86j8"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_u1c20"]

[sub_resource type="GDScript" id="GDScript_nmnyn"]
resource_name = "SMG_script"

[sub_resource type="SphereMesh" id="SphereMesh_fao87"]

[node name="CharacterBody3D" type="CharacterBody3D"]
script = ExtResource("1_r47ex")
HEADBOB_SWAY_AMOUNT = 0.01

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_j86j8")

[node name="WorldModel" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0138981, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="WorldModel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
layers = 2
mesh = SubResource("CapsuleMesh_u1c20")

[node name="Head" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.79, 0)

[node name="Camera3D" type="Camera3D" parent="Head"]
unique_name_in_owner = true
cull_mask = 1048573
current = true

[node name="smgModel" parent="Head/Camera3D" instance=ExtResource("2_ii8si")]
transform = Transform3D(0.05, 0, 0, 0, 0.05, 0, 0, 0, 0.05, 0.38066, -0.182177, -0.538094)
script = ExtResource("3_1xe3s")
metadata/script = SubResource("GDScript_nmnyn")

[node name="MuzzlePos" type="Node3D" parent="Head/Camera3D/smgModel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0443573, -7.45921)

[node name="placeeholderBulletOrigin" type="MeshInstance3D" parent="Head/Camera3D/smgModel/MuzzlePos"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0449886)
mesh = SubResource("SphereMesh_fao87")

[node name="SubViewportContainer" type="SubViewportContainer" parent="Head/Camera3D"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="SubViewport" type="SubViewport" parent="Head/Camera3D/SubViewportContainer"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="GunCam" type="Camera3D" parent="Head/Camera3D/SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.79666, 0)
cull_mask = 1047554
